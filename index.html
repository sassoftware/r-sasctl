<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The sasctl package enables easy communication between the SAS Viya platform APIs and the R runtime • sasctl</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="The sasctl package enables easy communication between the SAS Viya platform APIs and the R runtime">
<meta property="og:description" content="The sasctl package enables easy communication between the SAS Viya platform APIs and the R runtime.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sasctl</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/xgb-tidymodel.html">xgb-tidymodel</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sassoftware/r-sasctl" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="r-sasctl">R sasctl<a class="anchor" aria-label="anchor" href="#r-sasctl"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<div class="section level2">
<h2 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a>
</h2>
<ol style="list-style-type: decimal">
<li><a href="#overview">Overview</a></li>
<li>
<a href="#installation">Installation</a><br>
</li>
<li>
<a href="#session">Session</a><br>
</li>
<li>
<a href="#examples">Examples</a>
<ul>
<li>
<a href="#pmml-to-sas-example">PMML to SAS Example</a><br>
</li>
<li>
<a href="#a-native-r-model-example">A native R model example</a><br>
</li>
<li><a href="#vpost-and-vget-convenient-functions">vPOST and vGET convenient functions</a></li>
</ul>
</li>
<li><a href="#model-management-helpers">Model Management helpers</a></li>
</ol>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The goal of sasctl is to provide tools for easy access of SAS Viya APIs from an R perspective. It has useful tools to make model management easier.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="install-from-r">Install from R<a class="anchor" aria-label="anchor" href="#install-from-r"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## dev version</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_git</span><span class="op">(</span><span class="st">"https://github.com/sassoftware/r-sasctl"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## released version</span></span>
<span><span class="co">## You first have to install the dependencies</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"jsonlite"</span>, <span class="st">"httr"</span>, <span class="st">"uuid"</span>, <span class="st">"furrr"</span>, <span class="st">"ROCR"</span>, <span class="st">"reshape2"</span>, <span class="st">"base64enc"</span>, <span class="st">"dplyr"</span>, <span class="st">"glue"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## then the package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"https://github.com/sassoftware/r-sasctl/releases/download/X.X.X/r-sasctl_X.X.X.tar.gz"</span>, type <span class="op">=</span> <span class="st">"source"</span>, repos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://sassoftware.github.io/r-sasctl/">"sasctl"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="install-from-terminal">Install from terminal<a class="anchor" aria-label="anchor" href="#install-from-terminal"></a>
</h3>
<p>The SWAT package for R is available from SAS as a tar.gz file. You can download releases from <a href="https://github.com/sassoftware/r-sasctl/releases" class="external-link uri">https://github.com/sassoftware/r-sasctl/releases</a>.</p>
<p>After you download the package, you can install the package with a command that is similar to the following:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span> CMD INSTALL r-sasctl-X.X.X.tar.gz</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="session">Session<a class="anchor" aria-label="anchor" href="#session"></a>
</h2>
<p>You have a few options on how to make a connections to the SAS Viya server. The first example uses password authentication.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sess</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/session.html">session</a></span><span class="op">(</span>hostname <span class="op">=</span> <span class="st">"http://myserver.sas.com"</span>,</span>
<span>                username <span class="op">=</span> <span class="st">"sasuser"</span>,</span>
<span>                password <span class="op">=</span> <span class="st">"s3cr3t"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sess</span></span></code></pre></div>
<p>You may also use the .authinfo file.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## authinfo file (recommended)</span></span>
<span></span>
<span><span class="va">sess</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/session.html">session</a></span><span class="op">(</span>hostname <span class="op">=</span> <span class="st">"http://myserver.sas.com"</span>,</span>
<span>                authinfo <span class="op">=</span> <span class="st">"./_authinfo"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># authinfo file structure:</span></span>
<span><span class="co"># default login sasuser password s3cr3t</span></span>
<span></span>
<span><span class="co">## or for mutiple hosts in a single file but hostname must match otherwise will fail</span></span>
<span><span class="co"># host http://server1.sas.com login sasuser password s3cr3t</span></span>
<span><span class="co"># host https://server2.sas.com login sasuser password s3cr3t</span></span></code></pre></div>
<p>If you were provided access tokens or client_id and client_secret, you may follow one of the following methods.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## cient_id and client_secret</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sess <span class="ot">&lt;-</span> <span class="fu">session</span>(<span class="at">hostname =</span> <span class="st">"http://myserver.sas.com"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">client_id =</span> <span class="st">"client_id"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">client_secret =</span> <span class="st">"client_s3cr3t"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="do">## token type</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>sess2 <span class="ot">&lt;-</span> <span class="fu">session</span>(<span class="at">hostname =</span> <span class="st">"https://myserver.sas.com"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">oauth_token =</span> token<span class="sc">$</span>access_token </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>sess2</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="do">## if you want to use authorization code from Viya 4</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="do">## will open a browser, login and then  copy and paste the code in the R prompt terminal</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="do">## set client secret as "", only a client_id with authorization_code permission</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>sess2 <span class="ot">&lt;-</span> <span class="fu">session</span>(<span class="at">hostname =</span> <span class="st">"https://myserver.sas.com"</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                 <span class="at">username =</span> <span class="st">"username"</span> <span class="co"># not required, you will be prompt on browser</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                 <span class="at">client_id =</span> <span class="st">"client_id"</span>, <span class="co"># only if default was removed</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">auth_code =</span> <span class="cn">TRUE</span> </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                )</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>The following examples offer different options of the model management life cycle. First, the model is created. Then the model is registered and published. Finally, the model is scored. The code samples include expected responses inline as well.</p>
<div class="section level3">
<h3 id="pmml-to-sas-example">PMML to SAS Example<a class="anchor" aria-label="anchor" href="#pmml-to-sas-example"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hmeq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"https://support.sas.com/documentation/onlinedoc/viya/exampledatasets/hmeq.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## removing missing data</span></span>
<span><span class="va">hmeq</span><span class="op">[</span><span class="va">hmeq</span> <span class="op">==</span> <span class="st">""</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span> <span class="co"># empty strings to NA</span></span>
<span><span class="va">hmeq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">)</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">BAD</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">BAD</span><span class="op">)</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">REASON</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">REASON</span><span class="op">)</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">JOB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">JOB</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## creating logistic regression</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">BAD</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">hmeq</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span><span class="st">"logit"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span>
<span><span class="co">## saving model as pmml</span></span>
<span><span class="fu">XML</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/XML/man/saveXML.html" class="external-link">saveXML</a></span><span class="op">(</span><span class="fu">pmml</span><span class="fu">::</span><span class="fu"><a href="https://open-source.softwareag.com/r-pmml/reference/pmml.html" class="external-link">pmml</a></span><span class="op">(</span><span class="va">model1</span>, model.name <span class="op">=</span> <span class="st">"General_Regression_Model"</span>,</span>
<span>             app.name <span class="op">=</span> <span class="st">"Rattle/PMML"</span>,</span>
<span>             description <span class="op">=</span> <span class="st">"Logistic Regression Model"</span><span class="op">)</span>,</span>
<span>             <span class="st">"my_model.pmml"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## registering the model</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/register_model.html">register_model</a></span><span class="op">(</span></span>
<span>  session <span class="op">=</span> <span class="va">sess</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"my_model.pmml"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"R_model_pmml"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"pmml"</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"rsasctl_auto"</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">module</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/publish_model.html">publish_model</a></span><span class="op">(</span><span class="va">sess</span>, <span class="va">mod</span>, <span class="st">"R_model_pmml"</span><span class="op">)</span> <span class="co">## defaults to maslocal</span></span>
<span></span>
<span><span class="co">## 10 rows</span></span>
<span><span class="co">## see documentation for parallel request</span></span>
<span></span>
<span><span class="va">scored</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/masScore.html">masScore</a></span><span class="op">(</span><span class="va">sess</span>, <span class="va">module</span>, <span class="va">hmeq</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">scored</span></span>
<span></span>
<span><span class="co">## deleteing a project delete all associated models</span></span>
<span><span class="fu"><a href="reference/delete_project.html">delete_project</a></span><span class="op">(</span><span class="va">sess</span>, <span class="st">"rsasctl_auto"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## delete the published model</span></span>
<span><span class="fu"><a href="reference/delete_masmodule.html">delete_masmodule</a></span><span class="op">(</span><span class="va">sess</span>, <span class="st">"R_model_pmml"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="a-native-r-model-example">A native R model example<a class="anchor" aria-label="anchor" href="#a-native-r-model-example"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">hmeq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"https://support.sas.com/documentation/onlinedoc/viya/exampledatasets/hmeq.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hmeq</span><span class="op">[</span><span class="va">hmeq</span> <span class="op">==</span> <span class="st">""</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">hmeq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">)</span> <span class="co">### probably you don't want to do that, by for sake of simplicity</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">BAD</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">BAD</span><span class="op">)</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">REASON</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">REASON</span><span class="op">)</span></span>
<span><span class="va">hmeq</span><span class="op">$</span><span class="va">JOB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">JOB</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### creating train/test/val</span></span>
<span><span class="va">partition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span><span class="op">)</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">### logistic regression</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">BAD</span> <span class="op">~</span> <span class="va">.</span>,</span>
<span>              family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">'logit'</span><span class="op">)</span>,</span>
<span>              data <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span><span class="va">partition</span> <span class="op">==</span> <span class="fl">1</span>,<span class="op">]</span></span>
<span>              <span class="op">)</span></span>
<span></span>
<span><span class="co">### model summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="st">"myModel"</span><span class="op">)</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="st">"myModel/"</span></span>
<span></span>
<span></span>
<span><span class="co">## model saved</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">model1</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">'rlogistic.rda'</span><span class="op">)</span>, version <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## creating the score code </span></span>
<span><span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/codegen.html">codegen</a></span><span class="op">(</span><span class="va">model1</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"scoreCode.R"</span><span class="op">)</span>, rds <span class="op">=</span> <span class="st">"rlogistic.rda"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## The following function to creates a sample if you don't want to use the generated code</span></span>
<span><span class="co"># create_scoreSample(path, openFile = FALSE)</span></span>
<span></span>
<span><span class="co">## scoring the whole table</span></span>
<span></span>
<span><span class="co">## running the generated scoring code for testing</span></span>
<span><span class="va">codeExpression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">str2expression</a></span><span class="op">(</span><span class="va">code</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="va">codeExpression</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rdsPath</span> <span class="op">&lt;-</span> <span class="va">path</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">scoreFunction</span><span class="op">(</span>LOAN <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'LOAN'</span><span class="op">]</span>,</span>
<span>                        MORTDUE <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'MORTDUE'</span><span class="op">]</span>,</span>
<span>                        VALUE <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'VALUE'</span><span class="op">]</span>,</span>
<span>                        REASON <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'REASON'</span><span class="op">]</span>,</span>
<span>                        JOB <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'JOB'</span><span class="op">]</span>,</span>
<span>                        YOJ <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'YOJ'</span><span class="op">]</span>,</span>
<span>                        DEROG <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'DEROG'</span><span class="op">]</span>,</span>
<span>                        DELINQ <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'DELINQ'</span><span class="op">]</span>,</span>
<span>                        CLAGE <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'CLAGE'</span><span class="op">]</span>,</span>
<span>                        NINQ <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'NINQ'</span><span class="op">]</span>,</span>
<span>                        CLNO <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'CLNO'</span><span class="op">]</span>,</span>
<span>                        DEBTINC <span class="op">=</span> <span class="va">hmeq</span><span class="op">[</span>, <span class="st">'DEBTINC'</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">scoreddf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="va">scoreddf</span><span class="op">$</span><span class="va">Actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">$</span><span class="va">BAD</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span>
<span><span class="va">scoreddf</span><span class="op">$</span><span class="va">partition</span> <span class="op">&lt;-</span> <span class="va">partition</span></span>
<span></span>
<span><span class="co">### diagnostics requires the true Target column name defined in "targetName"</span></span>
<span><span class="co">### and the predicted probability column name defined in "targetPredicted"</span></span>
<span></span>
<span><span class="va">diags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/diagnosticsJson.html">diagnosticsJson</a></span><span class="op">(</span>validadedf <span class="op">=</span> <span class="va">scoreddf</span><span class="op">[</span><span class="va">scoreddf</span><span class="op">$</span><span class="va">partition</span> <span class="op">==</span> <span class="fl">3</span>,<span class="op">]</span>,</span>
<span>                         traindf <span class="op">=</span> <span class="va">scoreddf</span><span class="op">[</span><span class="va">scoreddf</span><span class="op">$</span><span class="va">partition</span> <span class="op">==</span> <span class="fl">1</span>,<span class="op">]</span>,</span>
<span>                         testdf <span class="op">=</span> <span class="va">scoreddf</span><span class="op">[</span><span class="va">scoreddf</span><span class="op">$</span><span class="va">partition</span> <span class="op">==</span> <span class="fl">2</span>,<span class="op">]</span>,</span>
<span>                         targetEventValue <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                         targetName <span class="op">=</span> <span class="st">"Actual"</span>,</span>
<span>                         targetPredicted <span class="op">=</span> <span class="st">"EM_EVENTPROBABILITY"</span>,</span>
<span>                         path <span class="op">=</span> <span class="va">path</span><span class="op">)</span> <span class="co">## safely ignore warning, knitr bug</span></span>
<span></span>
<span><span class="co">## writing other files</span></span>
<span><span class="fu"><a href="reference/write_in_out_json.html">write_in_out_json</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span>, input <span class="op">=</span> <span class="cn">TRUE</span>, path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_in_out_json.html">write_in_out_json</a></span><span class="op">(</span><span class="va">scoreddf</span><span class="op">[</span><span class="op">-</span><span class="fl">4</span><span class="op">]</span>, input <span class="op">=</span> <span class="cn">FALSE</span>, path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_fileMetadata_json.html">write_fileMetadata_json</a></span><span class="op">(</span>scoreCodeName <span class="op">=</span> <span class="st">"scoreCode.R"</span>,</span>
<span>                        scoreResource <span class="op">=</span> <span class="st">"rlogistic.rda"</span>,</span>
<span>                        path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_ModelProperties_json.html">write_ModelProperties_json</a></span><span class="op">(</span>modelName <span class="op">=</span> <span class="st">"Rlogistic"</span>,</span>
<span>                           modelFunction <span class="op">=</span> <span class="st">"Classification"</span>,</span>
<span>                           trainTable <span class="op">=</span> <span class="st">"hmeq"</span>,</span>
<span>                           algorithm <span class="op">=</span> <span class="st">"Logistic Regression"</span>,</span>
<span>                           numTargetCategories <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                           targetEvent <span class="op">=</span> <span class="st">"1"</span>,</span>
<span>                           targetVariable <span class="op">=</span> <span class="st">"BAD"</span>,</span>
<span>                           eventProbVar <span class="op">=</span> <span class="st">"P_BAD1"</span>,</span>
<span>                           modeler <span class="op">=</span> <span class="st">"sasctl man"</span>,</span>
<span>                           path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="va">files_to_zip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"*.json|*.R|*.rda"</span>, full.names <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"Rmodel.zip"</span><span class="op">)</span>, </span>
<span>    files <span class="op">=</span> <span class="va">files_to_zip</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/register_model.html">register_model</a></span><span class="op">(</span></span>
<span>  session <span class="op">=</span> <span class="va">sess</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"myModel/Rmodel.zip"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"RzipModel"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"zip"</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"R_sasctl"</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co">## deleteing a project delete all associated models</span></span>
<span><span class="fu"><a href="reference/delete_project.html">delete_project</a></span><span class="op">(</span><span class="va">sess</span>, <span class="st">"R_sasctl"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="vpost-and-vget-convenient-functions">vPOST and vGET convenient functions<a class="anchor" aria-label="anchor" href="#vpost-and-vget-convenient-functions"></a>
</h3>
<div class="section level4">
<h4 id="mas-call-example">MAS call example<a class="anchor" aria-label="anchor" href="#mas-call-example"></a>
</h4>
<p>You can make generic calls to endpoints with minimal effort.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vGET.html">vGET</a></span><span class="op">(</span><span class="va">sess</span>, </span>
<span>                  <span class="st">"microanalyticScore/modules/"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">models</span><span class="op">$</span><span class="va">items</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">8</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p>Next, we need to create the transform table using the correct JSON payload for a MAS call, which doesn’t have a standard format.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="er">###</span> <span class="er">Payload</span> <span class="er">for</span> <span class="er">Viya</span> <span class="er">MAS</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">{</span><span class="dt">"inputs"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">{</span><span class="dt">"name"</span><span class="fu">:</span> <span class="st">"&lt;input1_name&gt;"</span><span class="fu">,</span> <span class="dt">"value"</span><span class="fu">:</span> <span class="er">decimal_value</span><span class="fu">}</span><span class="ot">,</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">{</span><span class="dt">"name"</span><span class="fu">:</span> <span class="st">"&lt;input2_name&gt;"</span><span class="fu">,</span> <span class="dt">"value"</span><span class="fu">:</span> <span class="st">"string_value"</span><span class="fu">}</span><span class="ot">,</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>             <span class="fu">{</span><span class="dt">"name"</span><span class="fu">:</span> <span class="st">"&lt;input3_name&gt;"</span><span class="fu">,</span> <span class="dt">"value"</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">}</span> <span class="er">##</span> <span class="er">if</span> <span class="er">value:</span> <span class="er">NA</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>             <span class="ot">]</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">}</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="er">###</span> <span class="er">Payload</span> <span class="er">for</span> <span class="er">SCR</span> <span class="er">on</span> <span class="er">Viya</span> <span class="er">2021.1.5</span> <span class="er">or</span> <span class="er">higher</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"metadata"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;metadata_1&gt;"</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;metadata_2&gt;"</span><span class="fu">:</span> <span class="er">'any</span> <span class="er">detail'</span><span class="fu">,</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;metadata_3&gt;"</span><span class="fu">:</span> <span class="dv">3</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"data"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;input1_name&gt;"</span><span class="fu">:</span> <span class="fl">5.1</span><span class="fu">,</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;input2_name&gt;"</span><span class="fu">:</span> <span class="fl">0.2</span><span class="fu">,</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"&lt;input3_name&gt;"</span><span class="fu">:</span> <span class="st">"string_value"</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span></code></pre></div>
<p>There is a helper function that transform all the rows in a vector of strings, where each string is a JSON payload, since you cannot send data for batch scoring.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hmeq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"https://support.sas.com/documentation/onlinedoc/viya/exampledatasets/hmeq.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hmeq_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/format_data_json.html">format_data_json</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">)</span><span class="op">)</span> <span class="co">## use argument scr = TRUE for newer format</span></span>
<span></span>
<span><span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/prettify.html" class="external-link">prettify</a></span><span class="op">(</span><span class="va">hmeq_json</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Then you can make a call to a Model.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">sasctl</span><span class="fu">::</span><span class="fu"><a href="reference/vPOST.html">vPOST</a></span><span class="op">(</span><span class="va">sess</span>, </span>
<span>                 path <span class="op">=</span> <span class="st">"microanalyticScore/modules/dt_hmeq/steps/score"</span>,</span>
<span>                 payload <span class="op">=</span> <span class="va">hmeq_json</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="co">## choose a row</span></span>
<span>                 <span class="co"># content_type used to be hard coded, but we would have less flexibility</span></span>
<span>                 <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content_type.html" class="external-link">content_type</a></span><span class="op">(</span><span class="st">"application/json"</span><span class="op">)</span> </span>
<span>                 <span class="op">)</span></span>
<span></span>
<span><span class="va">output</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="model-management-helpers">Model Management helpers<a class="anchor" aria-label="anchor" href="#model-management-helpers"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## to write inputVar.json</span></span>
<span><span class="co">## removing BAD column</span></span>
<span><span class="fu"><a href="reference/write_in_out_json.html">write_in_out_json</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">hmeq</span><span class="op">)</span><span class="op">]</span>, input <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## to write outputVar.json</span></span>
<span><span class="co">## you should create your own output dataframe since it will be what you</span></span>
<span><span class="co">## put in your score code, which usually means EM_PROBABILITY, EM_CLASSIFICATION,</span></span>
<span><span class="co">## or whaterver names you create P_BAD1, P_BAD0, etc.</span></span>
<span></span>
<span><span class="va">out_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>P_BAD0 <span class="op">=</span> <span class="fl">0.78</span>,</span>
<span>                           P_BAD1 <span class="op">=</span> <span class="fl">0.22</span>,</span>
<span>                           BAD <span class="op">=</span> <span class="st">'1'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_in_out_json.html">write_in_out_json</a></span><span class="op">(</span><span class="va">out_example</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## to write fileMetadata.json</span></span>
<span><span class="co">## defaults should be fine, unless you use different file names</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_fileMetadata_json.html">write_fileMetadata_json</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## to write ModelProperties.json</span></span>
<span><span class="co">## defaults should be fine, unless you use different file names</span></span>
<span></span>
<span><span class="fu"><a href="reference/write_ModelProperties_json.html">write_ModelProperties_json</a></span><span class="op">(</span>modelName <span class="op">=</span> <span class="st">"My R Model"</span>, </span>
<span>                           modelDescription <span class="op">=</span> <span class="st">"Awesome Description"</span>, </span>
<span>                           modelFunction <span class="op">=</span> <span class="st">"Classification"</span>,</span>
<span>                           trainTable <span class="op">=</span> <span class="st">" "</span>,</span>
<span>                           algorithm <span class="op">=</span> <span class="st">"Logistic Regression"</span>,</span>
<span>                           numTargetCategories <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                           targetEvent <span class="op">=</span> <span class="st">"BAD"</span>,</span>
<span>                           targetVariable <span class="op">=</span> <span class="st">"P_BAD1"</span>,</span>
<span>                           eventProbVar <span class="op">=</span> <span class="st">"P_BAD1"</span>,</span>
<span>                           modeler <span class="op">=</span> <span class="st">"John SAS"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sasctl</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Eduardo Hellas <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.sas.com" class="external-link"><img src="reference/figures/SAS_logo.png" alt="SAS" width="72"></a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Eduardo Hellas, <a href="https://www.sas.com" class="external-link"><img src="reference/figures/SAS_logo.png" alt="SAS" width="72"></a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
